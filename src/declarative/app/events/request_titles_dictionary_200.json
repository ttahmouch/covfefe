[
    {
        "$action": "update",
        "$path": "$['$states']['length']",
        "$value": [
            {
                "$compose": "read",
                "$type": "json_path",
                "$value": "$['response']['headers']['content-length']",
                "$default": "0"
            },
            {
                "$compose": "read",
                "$type": "regular_expression",
                "$value": "^([0-9]+)$",
                "$default": ["0"]
            },
            {
                "$compose": "read",
                "$type": "json_path",
                "$value": "$['composed']['0']",
                "$default": "0"
            }
        ],
        "$comment": [
            "Is the $action field necessary?",
            "If the value is a literal, it's likely just being 'created.'",
            "If the value is a composer, it can be CRUD.",
            "Should it be replaced with $value: {$compose: 'composer_name'}?",
            "Should it be shorthand for $value: {$compose: 'composer_name'}?"
        ]
    },
    {
        "$action": "update",
        "$path": "$['$states']['titles_dictionary']",
        "$value": {
            "$compose": "response_titles_dictionary",
            "$default": {}
        },
        "$if": {
            "$compose": "is_response_titles_dictionary",
            "$default": false
        }
    },
    {
        "$action": "update",
        "$path": "$['$states']['error']",
        "$value": true,
        "$unless": {
            "$compose": "is_response_titles_dictionary",
            "$default": false
        }
    }
]